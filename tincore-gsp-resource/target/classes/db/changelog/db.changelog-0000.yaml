databaseChangeLog:
 
- changeSet:
    id: 1475585991027-0
    author: tincore (generated)
    preConditions:
      onFail: MARK_RAN
      not:
        tableExists:
          schemaName: public
          tableName: user_profile
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              constraints:
                primaryKey: true
                primaryKeyName: user_profilePK
            name: id
            type: BINARY(16)
        - column:
            name: birth_date
            type: date
        - column:
            name: business_version
            type: BIGINT
        - column:
            name: calorie_day_target
            type: DOUBLE
        - column:
            name: calorie_in_day_target
            type: DOUBLE
        - column:
            name: gender
            type: INT
        - column:
            name: heart_rate_max
            type: INT
        - column:
            name: heart_rate_rest
            type: INT
        - column:
            name: height
            type: DOUBLE
        - column:
            name: hydration_day_target
            type: DOUBLE
        - column:
            name: pedometer_day_distance_target
            type: DOUBLE
        - column:
            name: pedometer_day_step_target
            type: BIGINT
        - column:
            name: sleep_day_target
            type: BIGINT
        - column:
            name: stride_length
            type: DOUBLE
        - column:
            name: stride_length_run
            type: DOUBLE
        - column:
            constraints:
              constraints:
                nullable: false
            name: username
            type: VARCHAR(255)
        - column:
            name: volume_oxygen_max
            type: DOUBLE
        tableName: user_profile
- changeSet:
    id: 1475585991027-1
    author: tincore (generated)
    preConditions:
      onFail: MARK_RAN
      not:
        tableExists:
          schemaName: public
          tableName: body_metric
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              constraints:
                primaryKey: true
                primaryKeyName: body_metricPK
            name: id
            type: BINARY(16)
        - column:
            name: arm_perimeter
            type: DOUBLE
        - column:
            name: business_version
            type: BIGINT
        - column:
            name: calf_perimeter
            type: DOUBLE
        - column:
            name: calliper_back_length
            type: DOUBLE
        - column:
            name: calliper_chest_length
            type: DOUBLE
        - column:
            name: calliper_thight_length
            type: DOUBLE
        - column:
            name: calliper_triceps_length
            type: DOUBLE
        - column:
            name: calliper_waist_length
            type: DOUBLE
        - column:
            name: chest_perimeter
            type: DOUBLE
        - column:
            constraints:
              constraints:
                nullable: false
            name: date
            type: timestamp
        - column:
            name: fitnesssyncer_sync_date
            type: timestamp
        - column:
            name: fitnesssyncer_sync_id
            type: VARCHAR(255)
        - column:
            name: forearm_perimeter
            type: DOUBLE
        - column:
            name: hip_perimeter
            type: DOUBLE
        - column:
            name: neck_perimeter
            type: DOUBLE
        - column:
            name: thight_perimeter
            type: DOUBLE
        - column:
            name: waist_perimeter
            type: DOUBLE
        - column:
            name: weight
            type: DOUBLE
        - column:
            constraints:
              constraints:
                nullable: false
            name: user_profile_id
            type: BINARY(16)
        tableName: body_metric
    - addForeignKeyConstraint:
        baseColumnNames: user_profile_id
        baseTableName: body_metric
        constraintName: FK_bome_uspr
        deferrable: false
        initiallyDeferred: false
        referencedColumnNames: id
        referencedTableName: user_profile
- changeSet:
    id: 1475585991027-2
    author: tincore (generated)
    preConditions:
      onFail: MARK_RAN
      not:
        tableExists:
          schemaName: public
          tableName: equipment
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              constraints:
                primaryKey: true
                primaryKeyName: equipmentPK
            name: id
            type: BINARY(16)
        - column:
            name: business_version
            type: BIGINT
        - column:
            name: name
            type: VARCHAR(255)
        - column:
            name: weight
            type: DOUBLE
        - column:
            name: wheel_perimeter
            type: DOUBLE
        - column:
            constraints:
              constraints:
                nullable: false
            name: user_profile_id
            type: BINARY(16)
        tableName: equipment
    - addForeignKeyConstraint:
        baseColumnNames: user_profile_id
        baseTableName: equipment
        constraintName: FK_equi_uspo
        deferrable: false
        initiallyDeferred: false
        referencedColumnNames: id
        referencedTableName: user_profile
- changeSet:
    id: 1475585991027-3
    author: tincore (generated)
    preConditions:
      onFail: MARK_RAN
      not:
        tableExists:
          schemaName: public
          tableName: nutrition
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              constraints:
                primaryKey: true
                primaryKeyName: nutritionPK
            name: id
            type: BINARY(16)
        - column:
            name: business_version
            type: BIGINT
        - column:
            name: calories
            type: DOUBLE
        - column:
            name: carbohydrates
            type: DOUBLE
        - column:
            name: code
            type: VARCHAR(255)
        - column:
            constraints:
              constraints:
                nullable: false
            name: date
            type: timestamp
        - column:
            name: description
            type: VARCHAR(255)
        - column:
            name: fat
            type: DOUBLE
        - column:
            name: fiber
            type: DOUBLE
        - column:
            name: protein
            type: DOUBLE
        - column:
            name: sodium
            type: DOUBLE
        - column:
            name: water
            type: DOUBLE
        - column:
            constraints:
              constraints:
                nullable: false
            name: user_profile_id
            type: BINARY(16)
        tableName: nutrition
    - addForeignKeyConstraint:
        baseColumnNames: user_profile_id
        baseTableName: nutrition
        constraintName: FK_nutr_uspo
        deferrable: false
        initiallyDeferred: false
        referencedColumnNames: id
        referencedTableName: user_profile
- changeSet:
    id: 1475585991027-4
    author: tincore (generated)
    preConditions:
      onFail: MARK_RAN
      not:
        tableExists:
          schemaName: public
          tableName: session
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              constraints:
                nullable: false
            name: session_category
            type: VARCHAR(31)
        - column:
            constraints:
              constraints:
                primaryKey: true
                primaryKeyName: sessionPK
            name: id
            type: BINARY(16)
        - column:
            constraints:
              constraints:
                nullable: false
            name: date_start
            type: timestamp
        - column:
            name: business_version
            type: BIGINT
        - column:
            name: data_provider_hash
            type: CLOB
        - column:
            name: data_provider_url
            type: CLOB
        - column:
            name: data_thumbnail_url
            type: CLOB
        - column:
            name: date_end
            type: timestamp
        - column:
            name: description
            type: VARCHAR(255)
        - column:
            name: name
            type: VARCHAR(255)
        - column:
            name: session_type
            type: VARCHAR(255)
        - column:
            name: stat_altitude_cumulative_gain
            type: DOUBLE
        - column:
            name: stat_altitude_cumulative_loss
            type: DOUBLE
        - column:
            name: stat_altitude_max
            type: DOUBLE
        - column:
            name: stat_altitude_min
            type: DOUBLE
        - column:
            name: stat_calculation
            type: timestamp
        - column:
            name: stat_calories
            type: BIGINT
        - column:
            name: stat_crank_cadence_average
            type: BIGINT
        - column:
            name: stat_crank_cadence_max
            type: BIGINT
        - column:
            name: stat_crank_cadence_median
            type: INT
        - column:
            name: stat_crank_revolution_total
            type: BIGINT
        - column:
            name: stat_distance
            type: DOUBLE
        - column:
            name: stat_distance_location
            type: DOUBLE
        - column:
            name: stat_grade_max
            type: DOUBLE
        - column:
            name: stat_grade_min
            type: DOUBLE
        - column:
            name: stat_heart_rate_average
            type: BIGINT
        - column:
            name: stat_heart_rate_hard_millis
            type: BIGINT
        - column:
            name: stat_heart_rate_light_millis
            type: BIGINT
        - column:
            name: stat_heart_rate_max
            type: BIGINT
        - column:
            name: stat_heart_rate_max_millis
            type: BIGINT
        - column:
            name: stat_heart_rate_median
            type: BIGINT
        - column:
            name: stat_heart_rate_min
            type: BIGINT
        - column:
            name: stat_heart_rate_moderate_millis
            type: BIGINT
        - column:
            name: stat_heart_rate_rest_millis
            type: BIGINT
        - column:
            name: stat_heart_rate_very_light_millis
            type: BIGINT
        - column:
            name: stat_latitude_max
            type: DOUBLE
        - column:
            name: stat_latitude_min
            type: DOUBLE
        - column:
            name: stat_longitude_max
            type: DOUBLE
        - column:
            name: stat_longitude_min
            type: DOUBLE
        - column:
            name: stat_pedometer_cadence_average
            type: BIGINT
        - column:
            name: stat_pedometer_cadence_max
            type: BIGINT
        - column:
            name: stat_pedometer_cadence_median
            type: BIGINT
        - column:
            name: stat_pedometer_ground_contact_time_average
            type: BIGINT
        - column:
            name: stat_pedometer_ground_contact_time_max
            type: BIGINT
        - column:
            name: stat_pedometer_ground_contact_time_median
            type: BIGINT
        - column:
            name: stat_pedometer_stride
            type: DOUBLE
        - column:
            name: stat_pedometer_total
            type: BIGINT
        - column:
            name: stat_pedometer_vertical_oscillation_average
            type: DOUBLE
        - column:
            name: stat_pedometer_vertical_oscillation_max
            type: DOUBLE
        - column:
            name: stat_pedometer_vertical_oscillation_median
            type: DOUBLE
        - column:
            name: stat_power_average
            type: DOUBLE
        - column:
            name: stat_power_max
            type: DOUBLE
        - column:
            name: stat_power_median
            type: DOUBLE
        - column:
            name: stat_speed_average
            type: DOUBLE
        - column:
            name: stat_speed_average_moving
            type: DOUBLE
        - column:
            name: stat_speed_max
            type: DOUBLE
        - column:
            name: stat_time_moving
            type: BIGINT
        - column:
            name: stat_time_total
            type: BIGINT
        - column:
            name: stat_wheel_cadence_average
            type: INT
        - column:
            name: stat_wheel_cadence_max
            type: INT
        - column:
            name: stat_wheel_cadence_median
            type: INT
        - column:
            name: stat_wheel_perimeter
            type: DOUBLE
        - column:
            name: stat_wheel_revolution_total
            type: BIGINT
        - column:
            name: target_cadence
            type: BIGINT
        - column:
            name: target_cadence_feedback_mode
            type: VARCHAR(255)
        - column:
            name: target_cadence_feedback_type
            type: VARCHAR(255)
        - column:
            name: target_distance
            type: DOUBLE
        - column:
            name: target_distance_feedback_mode
            type: VARCHAR(255)
        - column:
            name: target_distance_feedback_type
            type: VARCHAR(255)
        - column:
            name: target_heart_rate
            type: BIGINT
        - column:
            name: target_heart_rate_feedback_mode
            type: VARCHAR(255)
        - column:
            name: target_heart_rate_feedback_type
            type: VARCHAR(255)
        - column:
            name: target_power
            type: BIGINT
        - column:
            name: target_power_feedback_mode
            type: VARCHAR(255)
        - column:
            name: target_power_feedback_type
            type: VARCHAR(255)
        - column:
            name: target_speed_pace
            type: DOUBLE
        - column:
            name: target_speed_pace_feedback_mode
            type: VARCHAR(255)
        - column:
            name: target_speed_pace_feedback_type
            type: VARCHAR(255)
        - column:
            name: target_time
            type: BIGINT
        - column:
            name: target_time_feedback_mode
            type: VARCHAR(255)
        - column:
            name: target_time_feedback_type
            type: VARCHAR(255)
        - column:
            constraints:
              constraints:
                nullable: false
            name: user_profile_id
            type: BINARY(16)
        - column:
            name: equipment_id
            type: BINARY(16)
        tableName: session
    - addForeignKeyConstraint:
        baseColumnNames: user_profile_id
        baseTableName: session
        constraintName: FK_sess_uspo
        deferrable: false
        initiallyDeferred: false
        referencedColumnNames: id
        referencedTableName: user_profile
    - addForeignKeyConstraint:
        baseColumnNames: equipment_id
        baseTableName: session
        constraintName: FK_sess_equi
        deferrable: false
        initiallyDeferred: false
        referencedColumnNames: id
        referencedTableName: equipment
- changeSet:
    id: 1475585991027-5
    author: tincore (generated)
    preConditions:
      onFail: MARK_RAN
      not:
        tableExists:
          schemaName: public
          tableName: track_period
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              constraints:
                primaryKey: true
                primaryKeyName: track_periodPK
            name: id
            type: BINARY(16)
        - column:
            name: business_version
            type: BIGINT
        - column:
            name: date_end
            type: timestamp
        - column:
            constraints:
              constraints:
                nullable: false
            name: date_start
            type: timestamp
        - column:
            name: sleep_override_end
            type: timestamp
        - column:
            name: sleep_override_start
            type: timestamp
        - column:
            constraints:
              constraints:
                nullable: false
            name: session_id
            type: BINARY(16)
        tableName: track_period
    - addForeignKeyConstraint:
        baseColumnNames: session_id
        baseTableName: track_period
        constraintName: FK_trpe_sess
        deferrable: false
        initiallyDeferred: false
        referencedColumnNames: id
        referencedTableName: session
- changeSet:
    id: 1475585991027-6
    author: tincore (generated)
    preConditions:
      onFail: MARK_RAN
      not:
        tableExists:
          schemaName: public
          tableName: track_point
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              constraints:
                primaryKey: true
                primaryKeyName: track_pointPK
            name: id
            type: BINARY(16)
        - column:
            name: activity_intensity
            type: INT
        - column:
            name: activity_level
            type: INT
        - column:
            name: altitude
            type: DOUBLE
        - column:
            name: altitude_delta
            type: DOUBLE
        - column:
            name: bearing
            type: DOUBLE
        - column:
            name: blood_pressure_diastolic
            type: DOUBLE
        - column:
            name: blood_pressure_systolic
            type: DOUBLE
        - column:
            name: calories_delta
            type: DOUBLE
        - column:
            name: comment
            type: VARCHAR(255)
        - column:
            name: crank_cadence
            type: DOUBLE
        - column:
            name: crank_revolution_delta
            type: INT
        - column:
            constraints:
              constraints:
                nullable: false
            name: date
            type: timestamp
        - column:
            name: description
            type: VARCHAR(255)
        - column:
            name: glucose
            type: DOUBLE
        - column:
            name: heart_rate
            type: INT
        - column:
            name: latitude
            type: DOUBLE
        - column:
            name: light_intensity
            type: INT
        - column:
            name: location_accuracy
            type: DOUBLE
        - column:
            name: location_distance_delta
            type: DOUBLE
        - column:
            name: location_speed
            type: DOUBLE
        - column:
            name: location_time
            type: BIGINT
        - column:
            name: longitude
            type: DOUBLE
        - column:
            name: moving
            type: BOOLEAN
        - column:
            name: name
            type: VARCHAR(255)
        - column:
            name: pedometer_cadence
            type: DOUBLE
        - column:
            name: pedometer_ground_contact_time
            type: INT
        - column:
            name: pedometer_step_delta
            type: BIGINT
        - column:
            name: pedometer_vertical_oscillation
            type: DOUBLE
        - column:
            name: power
            type: DOUBLE
        - column:
            name: sleep_detect_move
            type: INT
        - column:
            name: sleep_detect_snore
            type: INT
        - column:
            name: sleep_detect_success
            type: INT
        - column:
            name: temperature
            type: DOUBLE
        - column:
            name: tilt
            type: DOUBLE
        - column:
            name: time_delta
            type: BIGINT
        - column:
            name: wheel_cadence
            type: DOUBLE
        - column:
            name: wheel_revolution_delta
            type: INT
        - column:
            constraints:
              constraints:
                nullable: false
            name: track_period_id
            type: BINARY(16)
        tableName: track_point
    - addForeignKeyConstraint:
        baseColumnNames: track_period_id
        baseTableName: track_point
        constraintName: FK_trpo_trpe
        deferrable: false
        initiallyDeferred: false
        referencedColumnNames: id
        referencedTableName: track_period

